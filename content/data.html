---
title: Data
description:
toc: true
featuredVideo:
featuredImage: images/data-import-cheatsheet-thumbs.png
draft: false
---


<div id="TOC">

</div>

<p>This comes from the file <code>content/data.Rmd</code>.</p>
<p>Section 1:</p>
<p>The main dataset used within this project can be found at <a href="https://corgis-edu.github.io/corgis/csv/school_scores/" class="uri">https://corgis-edu.github.io/corgis/csv/school_scores/</a>.</p>
<p>We focused on a data set from the CORGIS Dataset Project that presents students’ academic scoring along with family income, GPA, and gender. his data set comes from the CORGIS Datasets Project and has 578 rows and 99 columns. The data reports SAT scores from the Common Core of Data (CCD), which is the Department of Education’s primary comprehensive database on public primary and secondary education data. The Department of Education collects data on students in hopes of using analysis results to assess teacher performance and improve classroom experiences.</p>
<p>The data was collected by Austin Cory Bart, and he can be reached at <a href="mailto:acbart@vt.edu" class="email">acbart@vt.edu</a>. He worked alongside Dennis Kafura, Clifford A. Shaffer, Javier Tibau, Luke Gusukuma, and Eli Tilevich.</p>
<p>Our <a href="/load_and_clean_data.R">load_and_clean_data.R</a> file is how we loaded and cleaned our data. You can find it attached below.</p>
<pre class="r"><code>source(
  here::here(&quot;static&quot;, &quot;load_and_clean_data.R&quot;),
  echo = TRUE # Use echo=FALSE or omit it to avoid code output  
)</code></pre>
<pre><code>## 
## &gt; library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.4.0      ✔ purrr   0.3.5 
## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
## ✔ tidyr   1.2.1      ✔ stringr 1.4.1 
## ✔ readr   2.1.3      ✔ forcats 0.5.2 
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre><code>## 
## &gt; loan_data &lt;- read_csv(here::here(&quot;dataset&quot;, &quot;loan_refusal.csv&quot;))</code></pre>
<pre><code>## Rows: 20 Columns: 5
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (1): bank
## dbl (4): min, white, himin, hiwhite
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre><code>## 
## &gt; loan_data_clean &lt;- loan_data
## 
## &gt; write_csv(loan_data_clean, file = here::here(&quot;dataset&quot;, 
## +     &quot;loan_refusal_clean.csv&quot;))
## 
## &gt; save(loan_data_clean, file = here::here(&quot;dataset/loan_refusal.RData&quot;))</code></pre>
<p>In order to better organize the dataset, we changed the column names to more manageable titles.
These titles include: year, state code, state name, average gpa per subject, average years per subject, income levels, gender, and SAT Scores.
Subjects include: Arts/Music, English, ’Foreign Languages, Mathematics, Natural Sciences, Social Sciences/History.
Income levels per year include: less than 20k, 20 to 40k, 40 to 60k, 60 to 80k, 80 to 100k, more than 100k.
Moreover, we mutated the total score column to include both the math score and the verbal score. We also mutated the income columns to do the same thing.</p>
<pre class="r"><code>library(tidyverse)
school_scores_data_clean &lt;- read_csv(here::here(&quot;dataset/school_scores_data_clean.csv&quot;))

colnames(school_scores_data_clean) &lt;- c(&#39;year&#39;, &#39;state.code&#39;, &#39;state.name&#39;, &#39;total.math&#39;, &#39;total.testtakers&#39;, &#39;total.verbal&#39;, &#39;arts.music.avggpa&#39;, &#39;arts.music.avgyears&#39;, &#39;english.avggpa&#39;, &#39;english.avgyears&#39;, &#39;foreign.languages.avggpa&#39;, &#39;foreign.languages.avgyears&#39;, &#39;mathematics.avggpa&#39;, &#39;mathematics.avgyears&#39;, &#39;natural.sciences.avggpa&#39;, &#39;natural.sciences.avgyears&#39;, &#39;social.sciences.history.avggpa&#39;, &#39;social.sciences.history.avgyears&#39;, &#39;income.between.20.40k.math&#39;, &#39;income.between.20.40k.testtakers&#39;,&#39;income.between.20.40k.verbal&#39;, &#39;income.between.40.60k.math&#39;, &#39;income.between.40.60k.testtakers&#39;, &#39;income.between.40.60k.verbal&#39;, &#39;income.between.60.80k.math&#39;, &#39;income.between.60.80k.testtakers&#39;,&#39;income.between.60.80k.verbal&#39;, &#39;income.between.80.100k.math&#39;,&#39;income.between.80.100k.testtakers&#39;, &#39;income.between.80.100k.verbal&#39;, &#39;income.less.than.20k.math&#39;, &#39;income.less.than.20k.testtakers&#39;, &#39;income.less.than.20k.verbal&#39;, &#39;income.more.than.100k.math&#39;, &#39;income.more.than.100k.testtakers&#39;, &#39;income.more.than.100k.verbal&#39;, &#39;gpa.aminus.math&#39;, &#39;gpa.aminus.testtakers&#39;, &#39;gpa.aminus.verbal&#39;, &#39;gpa.aplus.math&#39;, &#39;gpa.aplus.testtakers&#39;, &#39;gpa.aplus.verbal&#39;, &#39;gpa.a.math&#39;, &#39;gpa.a.testtakers&#39;, &#39;gpa.a.verbal&#39;, &#39;gpa.b.math&#39;, &#39;gpa.b.testtakers&#39;, &#39;gpa.b.verbal&#39;, &#39;gpa.c.math&#39;, &#39;gpa.c.testtakers&#39;, &#39;gpa.c.verbal&#39;, &#39;gpa.d.or.lower.math&#39;, &#39;gpa.d.or.lower.testtakers&#39;, &#39;gpa.d.or.lower.verbal&#39;, &#39;gpa.no.response.math&#39;, &#39;gpa.no.response.testtakers&#39;, &#39;gpa.no.response.verbal&#39;, &#39;gender.female.math&#39;,&#39;gender.female.testtakers&#39;, &#39;gender.female.verbal&#39;, &#39;gender.male.math&#39;, &#39;gender.male.testtakers&#39;, &#39;gender.male.verbal&#39;, &#39;score.between.200.to.300.math.females&#39;, &#39;score.between.200.to.300.math.males&#39;, &#39;score.between.200.to.300.math.total&#39;, &#39;score.between.200.to.300.verbal.females&#39;, &#39;score.between.200.to.300.verbal.males&#39;, &#39;score.between.200.to.300.verbal.total&#39;, &#39;score.between.300.to.400.math.females&#39;, &#39;score.between.300.to.400.math.males&#39;, &#39;score.between.300.to.400.math.total&#39;, &#39;score.between.300.to.400.verbal.females&#39;, &#39;score.between.300.to.400.verbal.males&#39;, &#39;score.between.300.to.400.verbal.total&#39;, &#39;score.between.400.to.500.math.females&#39;, &#39;score.between.400.to.500.math.males&#39;, &#39;score.between.400.to.500.math.total&#39;, &#39;score.between.400.to.500.verbal.females&#39;, &#39;score.between.400.to.500.verbal.males&#39;, &#39;score.between.400.to.500.verbal.total&#39;, &#39;score.between.500.to.600.math.females&#39;, &#39;score.between.500.to.600.math.males&#39;, &#39;score.between.500.to.600.math.total&#39;, &#39;score.between.500.to.600.verbal.females&#39;, &#39;score.between.500.to.600.verbal.males&#39;, &#39;score.between.500.to.600.verbal.total&#39;, &#39;score.between.600.to.700.math.females&#39;, &#39;score.between.600.to.700.math.males&#39;, &#39;score.between.600.to.700.math.total&#39;, &#39;score.between.600.to.700.verbal.females&#39;, &#39;score.between.600.to.700.verbal.males&#39;, &#39;score.between.600.to.700.verbal.total&#39;, &#39;score.between.700.to.800.math.females&#39;, &#39;score.between.700.to.800.math.males&#39;, &#39;score.between.700.to.800.math.total&#39;, &#39;score.between.700.to.800.verbal.females&#39;, &#39;score.between.700.to.800.verbal.males&#39;, &#39;score.between.700.to.800.verbal.total&#39;)

newdata &lt;- school_scores_data_clean %&gt;% mutate(total.score = total.math + total.verbal) %&gt;% 
  mutate(income.between.20.40k = income.between.20.40k.math + income.between.20.40k.verbal) %&gt;%
  mutate(income.between.40.60k = income.between.40.60k.math + income.between.40.60k.verbal) %&gt;%
  mutate(income.between.60.80k = income.between.60.80k.math + income.between.60.80k.verbal) %&gt;%
  mutate(income.between.80.100k = income.between.80.100k.math + income.between.80.100k.verbal) %&gt;%
  mutate(income.less.than.20k = income.less.than.20k.math + income.less.than.20k.verbal) %&gt;%
  mutate(income.more.than.100k = income.more.than.100k.math + income.more.than.100k.verbal)</code></pre>
<p>Section 2:</p>
<p>Additionally, We decided to include information from the US Census demographic data from 2017 that we found on kaggle.</p>
<p>This dataset contains demographic data of the U.S. population from 2017, with 37 columns and 74000 rows. By combining this dataset with out schools scores data, we can use this information to find other factors that might contribute to deviations in SAT scores, e.g. gender ratios, racial demographics.</p>
<p>Firstly, we loaded and cleaned the data using the file:
<code>[load_and_clean_data.R](/load_and_clean_data.R)</code></p>
<p>One comparison to note is that the State.Name column in the original dataset is equal to the State column in the new dataset.</p>
<pre class="r"><code>library(tidyverse)
census_data &lt;- read_csv(here::here(&quot;dataset/acs2017_census_tract_data.csv&quot;))</code></pre>
<pre><code>## Rows: 74001 Columns: 37
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (2): State, County
## dbl (35): TractId, TotalPop, Men, Women, Hispanic, White, Black, Native, Asi...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>censusdata &lt;- census_data %&gt;% mutate(State.Name = State) %&gt;% ungroup() %&gt;%
  select(State.Name, White, Black, Asian, Native, Pacific)

newdata_1 &lt;- school_scores_data_clean %&gt;% mutate(total.score = total.math + total.verbal) %&gt;% 
  mutate(income.between.20.40k = income.between.20.40k.math + income.between.20.40k.verbal) %&gt;%
  mutate(income.between.40.60k = income.between.40.60k.math + income.between.40.60k.verbal) %&gt;%
  mutate(income.between.60.80k = income.between.60.80k.math + income.between.60.80k.verbal) %&gt;%
  mutate(income.between.80.100k = income.between.80.100k.math + income.between.80.100k.verbal) %&gt;%
  mutate(income.less.than.20k = income.less.than.20k.math + income.less.than.20k.verbal) %&gt;%
  mutate(income.more.than.100k = income.more.than.100k.math + income.more.than.100k.verbal) %&gt;%
  ungroup()

incomedata &lt;- newdata_1 %&gt;% select(state.name, total.score, income.between.20.40k, income.between.40.60k,
                                   income.between.60.80k, income.between.80.100k, income.less.than.20k,
                                   income.more.than.100k)


newdata_inc &lt;- incomedata %&gt;% crossing(censusdata)
newdata_inc</code></pre>
<pre><code>## # A tibble: 41,595,930 × 14
##    state…¹ total…² incom…³ incom…⁴ incom…⁵ incom…⁶ incom…⁷ incom…⁸ State…⁹ White
##    &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;
##  1 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  2 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  3 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  4 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  5 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  6 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  7 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  8 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0  
##  9 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0.2
## 10 Alabama    1073     932    1019    1041    1064     864    1141 Alabama   0.3
## # … with 41,595,920 more rows, 4 more variables: Black &lt;dbl&gt;, Asian &lt;dbl&gt;,
## #   Native &lt;dbl&gt;, Pacific &lt;dbl&gt;, and abbreviated variable names ¹​state.name,
## #   ²​total.score, ³​income.between.20.40k, ⁴​income.between.40.60k,
## #   ⁵​income.between.60.80k, ⁶​income.between.80.100k, ⁷​income.less.than.20k,
## #   ⁸​income.more.than.100k, ⁹​State.Name</code></pre>
<p>This dataset that is found at <a href="https://www.kaggle.com/datasets/muonneutrino/us-census-demographic-data" class="uri">https://www.kaggle.com/datasets/muonneutrino/us-census-demographic-data</a> contains demographic data of the U.S. population from 2017 with 37 columns and 740000 rows total. We chose this dataset to combine with our original one because we want to see if we can find other factors that could contribute to or explain the differences in SAT scores between states and different income levels — for example, certain states may have racial and gender demographics that historically perform more poorly on standardized tests.</p>
<p>The data here were collected by the US Census Bureau. As a product of the US federal government, this is not subject to copyright within the US.</p>
<p>Section 3:</p>
<p>We hope to combine these two datasets by using the merge() function since both datasets have a column dedicated to the 50 states, but we are concerned about the fact that this new dataset has 74000 rows, whereas our original one only has 578. To overcome this we may need to create new columns in the census dataset.</p>
